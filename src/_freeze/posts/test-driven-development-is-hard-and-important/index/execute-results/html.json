{
  "hash": "d91fb7dd92c1e9736661a97d3b62d30c",
  "result": {
    "markdown": "---\ntitle: Test-driven development is hard...and important.\nauthor: \"\"\ndate: '2018-12-28'\nslug: test-driven-development-is-hard-and-important\ncategories: [R, software, Databrary]\n---\n\n\nI've been developing an R package that interacts with the [Databrary.org](https://databrary.org) API and with [Datavyu](https://datavyu.org) annotation files stored locally or on Databrary alongside shared videos.\nIf you're curious, you can download the `databraryr` package from this GitHub repository: <https://github.com/databrary/databraryr>.\n\nLike many people in the software world, I'm entirely self-taught.\nOk, I took a class in C programming at the U.S. Department of Agriculture's Graduate School in the year before I applied to graduate schools in cognitive neuroscience.\nBut my R package development skills are entirely self-taught.\nI must thank the incredibly generous geniuses who have gone before me and who share their code and their talents so freely and openly.\nWithout the almost instant availability of these resources, my progress would be much, much slower.\n\nDevelopers are an opinionated bunch, and there are at least as many styles (fads?) in software development as their are developers.\nOne style that I have started to try to emulate is ['test-driven development'](https://en.wikipedia.org/wiki/Test-driven_development).\nIn TDD, the idea is that you create tests for how each part of your package should respond given this or that input.\nIf your tests are through enough and correct, your package should work...at least within the boundaries of what you tested.\n\nFor the latest version of the package (0.1.4), I added a bunch of new tests to evaluate several new functions I've added to the package.\nLet's just say that getting through my own self-designed test battery was challenging.\nBut as a result, the code is cleaner and less buggy than it would be if I hadn't gone this route.\n\nIn the larger sense, TDD is sort of a \"plan for the worst\" style.\nI like it because I know it forces me to be more precise and specific than I might otherwise choose to be.\nSince I've been using the `databraryapi` more often for keeping tabs on what's going on in the Databrary world, that's a very good thing.\n\nIn case you're curious what the package can do, check this out:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndevtools::install_github(\"databrary/databraryr\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nDownloading GitHub repo databrary/databraryr@HEAD\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n── R CMD build ─────────────────────────────────────────────────────────────────\n* checking for file ‘/private/var/folders/hz/j_rrw69j3pz2xfp4m2jgj__h0000gp/T/RtmpuE9RJI/remotesc05023b4f9ba/databrary-databraryr-2be467f/DESCRIPTION’ ... OK\n* preparing ‘databraryr’:\n* checking DESCRIPTION meta-information ... OK\n* checking for LF line-endings in source and make files and shell scripts\n* checking for empty or unneeded directories\nOmitted ‘LazyData’ from DESCRIPTION\n* building ‘databraryr_0.6.2.9001.tar.gz’\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in i.p(...): installation of package\n'/var/folders/hz/j_rrw69j3pz2xfp4m2jgj__h0000gp/T//RtmpuE9RJI/filec0503e7734a6/databraryr_0.6.2.9001.tar.gz'\nhad non-zero exit status\n```\n:::\n:::\n\n\nHere is a list of some recently authorized researchers:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndatabraryr::get_db_stats(\"people\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 × 6\n     id sortname  url                            institution prename affiliation\n  <int> <chr>     <chr>                          <lgl>       <chr>   <chr>      \n1 12440 Hall      <NA>                           NA          Nancy   California…\n2 12395 Gould     <NA>                           NA          Laura   NYU Grossm…\n3  3738 Laing     <NA>                           NA          Cather… University…\n4 12393 O'Brien   https://www.brunel.ac.uk/peop… NA          Justin  Brunel Uni…\n5 12175 Moriguchi <NA>                           NA          Yusuke  Kyoto Univ…\n```\n:::\n:::\n\n\nAnd here is a very simple plot of the growth in authorized researchers and institutions over time:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwith(databraryr::read_csv_data_as_df(), plot(Auth_Investigators, Institutions))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nI've said in other places that I think scientists will eventually interact with their data programmatically -- via scripts like this -- with the data and materials stored in repositories that others can also access programmatically.\nFurthermore, I think that the philosophy of test-driven development can help make our software AND the results and findings we derive from it more robust and reproducible.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}